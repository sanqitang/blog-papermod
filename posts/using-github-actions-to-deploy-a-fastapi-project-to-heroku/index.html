<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Using GitHub Actions to Deploy a FastAPI Project to Heroku | Somraj Saha</title><meta name=keywords content><meta name=description content="Heroku makes deployment a piece of cake, but compromises on quality control & best practices. So, this article shows how to use GitHub Actions in tandem with Heroku while maintaining best practices."><meta name=author content><link rel=canonical href=https://sanqitang.github.io/posts/using-github-actions-to-deploy-a-fastapi-project-to-heroku/><link crossorigin=anonymous href=/assets/css/stylesheet.7a9a232bd263c7c728764d673e311e223485d79aec414071c61373b461fdb01f.css integrity="sha256-epojK9Jjx8codk1nPjEeIjSF15rsQUBxxhNztGH9sB8=" rel="preload stylesheet" as=style><link rel=icon href=https://sanqitang.github.io/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://sanqitang.github.io/icons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://sanqitang.github.io/icons/favicon-32x32.png><link rel=apple-touch-icon href=https://sanqitang.github.io/icons/apple-touch-icon.png><link rel=mask-icon href=https://sanqitang.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "392941b3f13c4678bb21cdb0fadafe91"}'></script><meta name=google-site-verification content="ksFwXaurAJ-U31-m5d3m-e4vgS96Hc1JfSx4Wq-gSF4"><script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","")</script><meta property="og:title" content="Using GitHub Actions to Deploy a FastAPI Project to Heroku"><meta property="og:description" content="Heroku makes deployment a piece of cake, but compromises on quality control & best practices. So, this article shows how to use GitHub Actions in tandem with Heroku while maintaining best practices."><meta property="og:type" content="article"><meta property="og:url" content="https://sanqitang.github.io/posts/using-github-actions-to-deploy-a-fastapi-project-to-heroku/"><meta property="og:image" content="https://res.cloudinary.com/jarmos/image/upload/v1620895005/GitHub_Actions_Loves_Heroku_dq2ake.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-05-05T16:25:28+05:30"><meta property="article:modified_time" content="2021-05-05T16:25:28+05:30"><meta property="og:site_name" content="Jarmos"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://res.cloudinary.com/jarmos/image/upload/v1620895005/GitHub_Actions_Loves_Heroku_dq2ake.jpg"><meta name=twitter:title content="Using GitHub Actions to Deploy a FastAPI Project to Heroku"><meta name=twitter:description content="Heroku makes deployment a piece of cake, but compromises on quality control & best practices. So, this article shows how to use GitHub Actions in tandem with Heroku while maintaining best practices."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://sanqitang.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Using GitHub Actions to Deploy a FastAPI Project to Heroku","item":"https://sanqitang.github.io/posts/using-github-actions-to-deploy-a-fastapi-project-to-heroku/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Using GitHub Actions to Deploy a FastAPI Project to Heroku","name":"Using GitHub Actions to Deploy a FastAPI Project to Heroku","description":"Heroku makes deployment a piece of cake, but compromises on quality control \u0026 best practices. So, this article shows how to use GitHub Actions in tandem with Heroku while maintaining best practices.","keywords":[],"articleBody":"I build Python projects \u0026 host the source code on GitHub repositories quite often. And thanks to GitHub Actions, I needn‚Äôt worry about Continuous Integration needs either. While Heroku takes care of my Continuous Deployment needs.\nBut, there‚Äôs a problem. Heroku doesn‚Äôt provide a straightforward way to deploy the project using GitHub Actions. I need to download Heroku CLI to do it instead.\nAnd if you‚Äôve been reading my articles, you would know I‚Äôm quite a minimalist. I don‚Äôt like adding more bloatware \u0026 extra dependencies to my development machine than what‚Äôs needed. Hence, I had to look out for an alternative.\nMy current development process is to commit changes on my local machine \u0026 then push it to remote. The remote here is usually a GitHub repo with GitHub Actions configured to trigger a suite of tests. And if everything passes, deploy the project to production. Pretty standard practice \u0026 nothing fancy over here.\nBut the caveat is Heroku CLI uses git commands to push code to Heroku‚Äôs remote. So, it‚Äôs pretty much like pushing code to a GitHub repository. But, with no robust CI/CD pipelines. I could configure Heroku to deploy when the tests pass On GitHub. But it‚Äôs best to stick to standard practice \u0026 configure everything under one roof.\nAlso, invoking git commands on a remote machine doesn‚Äôt sound like a good idea. So, I felt sharing the techniques I use to circumvent this tricky situation was the right thing to do.\nSo, we‚Äôll be using GitHub Actions to configure a CI/CD pipeline. And, FastAPI to build our hypothetical REST API.\nAnd, without further adieu, let‚Äôs dive in \u0026 learn how to do it.\nThings to Know Before Deployment Heroku‚Äôs design reflects the need for simplicity \u0026 reducing complexity. Its users aren‚Äôt expected to know in-depth CI/CD concepts \u0026 practices. But as long as the users are well-acquainted with Git commands, they‚Äôre good to go.\nIn other words, deploying a project to Heroku is as simple as pushing your code to GitHub repos!\nYou would develop your project \u0026 then push your code to the Heroku remote. It triggers a build process which sets up a web server on their remote servers. In other words, deploying projects couldn‚Äôt get any easier than this.\nBut there‚Äôs a drawback to this process, Heroku doesn‚Äôt provide a robust enough CI/CD pipeline. There‚Äôs no way to keep a check on any breaking changes or bugs. This is where GitHub Actions come in handy.\nSo, we‚Äôll be using the heroku-deploy Action by AkhileshNS to deploy the project. And the said Action is a NodeJS wrapper around basic git command invocations. These invocations are exactly like what you would use with Heroku CLI instead.\nFurther, to keep things simple \u0026 to-the-point, our FastAPI app is a single file with no more than 8 lines of code!\nBesides that, Heroku also requires some extra files for the build process to work. And these files are also pushed to the Heroku remote as well. They‚Äôre plain-text files with information for Heroku to parse during the build phase. You‚Äôll find more details about them later in the article.\nAdditionally, the heroku-deploy Action also requires an API key for authentication. So, ensure you‚Äôve it along with the project‚Äôs name.\nAnd with all the prerequisites taken care of, let‚Äôs develop the project now.\nPutting Everything Together Our Simple FastAPI Project With all the prerequisites set up \u0026 gathered, here‚Äôs an overview of our little project.\nTo start with, the FastAPI project is pretty simple with only 8 lines of code! It‚Äôs source code is detailed in the main.py file. And it‚Äôs configured with routes to return a set of JSON responses when queried. The said routes are; a / (or root) route \u0026 a /healthcheck route. The latter of which has some significance in our CI/CD pipeline as you‚Äôll see.\nThe root route returns a JSON response like this; {\"message\": \"Hello, World!\"} when queried. And the /healtchcheck route acts as the last-line-of-defense for the REST API. But it also returns a JSON response for better user interpretation. So, if you invoke a cURL command to this route, you should get back {‚Äúmessage‚Äù: ‚ÄúEverything, OK!‚Äù} response back.\nWe‚Äôll configure our CI/CD pipeline to query the health-check route to check if it‚Äôs still up \u0026 running. Failing to do so which means returning a 400 (or similar) response code will invoke a roll-back. Hence, our REST API in production will always be up \u0026 running regardless of any breaking changes or bugs creeping in.\nThat said, here‚Äôs what the source code for our REST API will look like:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 from fastapi import FastAPI, status app = FastAPI() @app.get('/') def hello_world(): ''' The root route which returns a JSON response. The JSON response is delivered as: { 'message': 'Hello, World!' } ''' return {'message': 'Hello, World!'} @app.get('/healthcheck', status_code=status.HTTP_200_OK) def perform_healthcheck(): ''' Simple route for the GitHub Actions to healthcheck on. More info is available at: https://github.com/akhileshns/heroku-deploy#health-check It basically sends a GET request to the route \u0026 hopes to get a \"200\" response code. Failing to return a 200 response code just enables the GitHub Actions to rollback to the last version the project was found in a \"working condition\". It acts as a last line of defense in case something goes south. Additionally, it also returns a JSON response in the form of: { 'healtcheck': 'Everything OK!' } ''' return {'healthcheck': 'Everything OK!'} Configuring the GitHub Actions Workflow With our REST API built, let‚Äôs configure a CI/CD pipeline for it. The pipeline is pretty standard \u0026 is nothing fancy. On every Push and/or PR event, it‚Äôll invoke a series of tests followed by code quality checks. And if everything passes, the workflow will invoke the deployment process as well.\nBut before discussing more about our pipeline, let‚Äôs learn a bit about GitHub Actions.\nIt‚Äôs easy to confuse GitHub Actions as ‚Äúyet another CI/CD tool‚Äù. But, it‚Äôs not. GitHub defines it as an automation tool for all software development needs one can think of. And, there‚Äôre many preconfigured Actions provided officially by GitHub and/or the community as well. One such Action we‚Äôll use for our use case is the AkhileshNS/heroku-deploy Action.\nWe‚Äôll trigger our workflow on every push event. But you can configure it to trigger on other events as well. You can find more info on the list of events that triggers a workflow it‚Äôs official documentation.\nWorkflows are further configured through YAML files. And, they‚Äôre stored under the .github/workflows directory which is also version controlled. GitHub will parse these YAML files for instructions on how to set up the environment.\nAnd here‚Äôs what our workflow looks like:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 # This is the .github/workflows/main.yml name: Deploy # Name of the workflow # Events that trigger a workflow: # https://docs.github.com/en/actions/reference/events-that-trigger-workflows on: push jobs: # Check out the following article for more inspiration on setting up a # standard CI/CD pipeline for most Python projects: # https://jarmos.netlify.app/posts/a-standard-ci-cd-pipeline-for-python-projects/ test: # Include your test suite here. lint: # Lint \u0026 format your code over here. deploy: # If the test \u0026 lint jobs don't pass, # the deploy job willn't even execute needs: [test, lint] runs-on: ubuntu-latest steps: - name: Checkout repository uses: actions/checkout@v2 - name: Deploying to Heroku # More details available at: # https://github.com/akhileshns/heroku-deploy uses: akhileshns/heroku-deploy@v3.12.12 with: heroku_api_key: ${{ secrets.HEROKU_API_KEY }} heroku_app_name: \"\" heroku_email: \"\" healthcheck: \"https://.herokuapp.com/healthcheck\" rollbackonhealthcheckfailed: true GitHub Actions workflows have to adhere to a specific syntax. And explaining the syntax is a bit out of context of this article. So, you can refer to the official docs for info to learn about the syntax.\nThat said, let‚Äôs understand how we can customize our workflow.\nAt the top of our main.yml file is the name of the workflow signified with the name keyword. It‚Äôs followed by the on keyword which instructs GitHub Actions to trigger the workflow on push events.\nThere‚Äôre way more ‚Äúon event‚Äù keywords available to trigger workflows. So, do take a look at the documentation \u0026 configure your pipeline according to your needs.\nContinuing on, the jobs section of the workflow is pretty much the heart of the pipeline. This is where GitHub will find instructions on which Actions to trigger \u0026 when. For our needs, we defined 3 jobs \u0026 they‚Äôll run in parallel unless explicitly configured not to do so.\nThe jobs are configured to run on the latest version of Ubuntu. And additionally, the deploy job is dependent on the other previous jobs. So, while the test \u0026 linter jobs run in parallel, the deploy job will wait till they pass. And, if they don‚Äôt, the deploy job willn‚Äôt even execute.\nThis structure of the pipeline ensures bugs are never introduced to production. And hence, ensuring quality standards of the source code. And if you want to know how to set up a code quality check for Python projects, I‚Äôve an article for you. Check out A Standard \u0026 Complete CI/CD Pipeline for Most Python Projects to know how to set it up.\nDiving deeper into the deploy job, let‚Äôs figure out it‚Äôs exact purpose.\nLike its predecessors, the deploy job also runs on the latest version of Ubuntu. Then it instructs GitHub to parse the steps for execution. Accordingly, GitHub ‚Äúcopies‚Äù the contents of the repo in the virtual environment. Following which the heroku-deploy Action is executed.\nThe heroku-deploy Action also requires a couple of variables to function. And these variables are provided using the with keyword. The said Action accepts more variables than what we‚Äôre using. So, do check out it‚Äôs repo for further configuration.\nThat said, we‚Äôre using the heroku_api_key, heroku_app_name, heroku_email, healthcheck \u0026 rollbackonhealthcheckfailed variables. Since, the first 3 variables accept valuable user-info, they‚Äôre passed in as GitHub Secrets. The healtcheck variable accepts an URL to the /healthcheck route. And finally, the rollbackonhealthcheckfailed accepts a boolean value.\nThe last variable helps us as the last-line-of-defence. Anytime an event triggers workflow \u0026 the project deploys, a health-check will be performed. It‚Äôll look for a 200 response code \u0026 if it fails, the workflow will revert back to a previous working version!\nPretty nifty if you ask me!\nBut then, why do we need such complexity in the first place?\nYou see, in production environments it‚Äôs common to have robust CI/CD pipeline(s) in place. These systems test your commit pushes \u0026 PR for any potential breakages. And not to forget coding best practices \u0026 quality standards as well.\nThe health-check \u0026 roll back features of the pipeline are there as a last-line-of-defence. Since, it is possible for bugs and/or breaking changes to pass the preliminary checks. And it could break our REST API in production. Imagine what it would be like for your project‚Äôs users (and they paid for using it)!\nBut fortunate for us, you needn‚Äôt worry about such a scenario ever becoming a reality. With the health-check \u0026 roll-back features, issues will turn back north as quickly as it turned south. So, in other words, you get a good night‚Äôs sleep without any worry.\nAbout the Procfile, requirements.txt \u0026 runtime.txt Files As mentioned earlier, Heroku requires certain plain-text files during the build process. It parses these files to set up the web-server \u0026 the dependencies for the project. So, for our REST API project which is a Python application, following are the files Heroku needs to parse.\nThe Procfile (without a file extension) which Heroku parses to set up a web-server on the remote machine. So, while using uvicorn, the contents of the file would be: uvicorn main:app --host=0.0.0.0 --port=${PORT:-5000} --workers 4. The requirements.txt lists project dependencies. And, Heroku will parse it to install the project‚Äôs dependencies. The runtime.txt file states the specific Python version to use for our REST API. So, if it depends on Python v3.8.10, the contents of the file would be python-3.8.10. Do note the format \u0026 it has to be exactly similar else it won‚Äôt work. With these files, your build environment on Heroku should be up \u0026 running in no time. But let‚Äôs double check the directory structure before committing things to version-control. Here‚Äôs what your directory structure should look like:\n1 2 3 4 5 6 7 8 example_project/ # Root directory for our project ‚îú‚îÄ .github/ ‚îÇ ‚îú‚îÄ workflows/ ‚îÇ ‚îÇ ‚îú‚îÄ main.yml # Our Workflow file ‚îú‚îÄ main.py # Our FastAPI project ‚îú‚îÄ Procfile # Instructions for Heroku to setup Uvicorn ‚îú‚îÄ requirements.txt # Lists the dependencies of our project ‚îú‚îÄ runtime.txt # List the Python version our project depends on Now, each time you push your changes to a GitHub repository, the push event will trigger the workflow. And if the tests \u0026 code quality checks pass, the workflow will try to deploy the project to Heroku. On top of it, if the health-check URL returns a 200 response code back to our workflow, the REST API goes live!\nYou can then navigate to the https://.herokuapp.com URL to check out our REST API. If it‚Äôs working you should see a JSON response on the screen.\nWith this setup, now you‚Äôve the best of both worlds. Simple deployment with Heroku \u0026 robust code quality checks with GitHub Actions! And the best part of it all, there was no need to use the Heroku CLI on your local machine. üòÜ\nSome Potential Roadblocks While the techniques \u0026 code detailed out in this article works, it‚Äôs not robust enough. There‚Äôre a couple of fragile areas in the heroku-deploy Action which need to be taken care of. If you peruse through the source code, you‚Äôll find it‚Äôs invoking actual git commands using NodeJS.\nBut, NodeJS wasn‚Äôt meant to invoke shell commands. So, no wonder things can \u0026 will break while using it. In other words, the Action used here is more of a workaround than anything else!\nA better solution to this problem would be to wrap an API provided by Heroku to create an Action. And fortunate for us, appears to be some light at the other end of this tunnel. Heroku provides an official API to interact with their build process \u0026 other services. They named it Heroku Platform API. They even shared an article to programmatically release code to Heroku using their Platform API.\nSo, a shout-out to JavaScript developers. If you‚Äôre reading this \u0026 you‚Äôre experienced developing GitHub Actions, the community needs you. But till then, this article should be a good guideline for anyone wanting to deploy their FastAPI app to Heroku.\nThere are other alternatives though. Google Serverless Infrastructure is one \u0026 other provided by Microsoft Azure and/or Amazon Web Service. So, if you want to try them out, check this article I authored Google‚Äôs Serverless offering. You can read it at: Google Serverless Infrastructure: A Primer on GCP \u0026 Serverless Computing.\nUntil then cheers \u0026 happy developing! üçª\n","wordCount":"2531","inLanguage":"en","image":"https://res.cloudinary.com/jarmos/image/upload/v1620895005/GitHub_Actions_Loves_Heroku_dq2ake.jpg","datePublished":"2021-05-05T16:25:28+05:30","dateModified":"2021-05-05T16:25:28+05:30","mainEntityOfPage":{"@type":"WebPage","@id":"https://sanqitang.github.io/posts/using-github-actions-to-deploy-a-fastapi-project-to-heroku/"},"publisher":{"@type":"Organization","name":"Somraj Saha","logo":{"@type":"ImageObject","url":"https://sanqitang.github.io/icons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://sanqitang.github.io/ accesskey=h title="Somraj Saha (Alt + H)">Somraj Saha</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://sanqitang.github.io/about/ title=About><span>About</span></a></li><li><a href=https://sanqitang.github.io/blog/ title=Blog><span>Blog</span></a></li><li><a href=https://sanqitang.github.io/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://sanqitang.github.io/services/ title=Services><span>Services</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Using GitHub Actions to Deploy a FastAPI Project to Heroku</h1><div class=post-description>Heroku makes deployment a piece of cake, but compromises on quality control & best practices. So, this article shows how to use GitHub Actions in tandem with Heroku while maintaining best practices.</div><div class=post-meta><span title='2021-05-05 16:25:28 +0530 +0530'>May 5, 2021</span>&nbsp;¬∑&nbsp;12 min</div></header><figure class=entry-cover><a href=https://res.cloudinary.com/jarmos/image/upload/v1620895005/GitHub_Actions_Loves_Heroku_dq2ake.jpg target=_blank rel="noopener noreferrer"><img loading=lazy src=https://res.cloudinary.com/jarmos/image/upload/v1620895005/GitHub_Actions_Loves_Heroku_dq2ake.jpg alt="Heroku combined with GitHub & GitHub Actions is a match made in heaven."></a><p>GitHub Actions (and GitHub) plus Heroku is a match made in heaven</p></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#things-to-know-before-deployment aria-label="Things to Know Before Deployment">Things to Know Before Deployment</a></li><li><a href=#putting-everything-together aria-label="Putting Everything Together">Putting Everything Together</a><ul><li><a href=#our-simple-fastapi-project aria-label="Our Simple FastAPI Project">Our Simple FastAPI Project</a></li><li><a href=#configuring-the-github-actions-workflow aria-label="Configuring the GitHub Actions Workflow">Configuring the GitHub Actions Workflow</a></li><li><a href=#about-the-procfile-requirementstxt--runtimetxt-files aria-label="About the Procfile, requirements.txt &amp;amp; runtime.txt Files">About the <code>Procfile</code>, <code>requirements.txt</code> & <code>runtime.txt</code> Files</a></li></ul></li><li><a href=#some-potential-roadblocks aria-label="Some Potential Roadblocks">Some Potential Roadblocks</a></li></ul></div></details></div></div></details></div><div class=post-content><p>I build Python projects & host the source code on GitHub repositories quite
often. And thanks to <a href=https://github.com/features/actions>GitHub Actions</a>, I needn&rsquo;t worry about
Continuous Integration needs either. While <a href=https://www.heroku.com>Heroku</a> takes care of my
Continuous Deployment needs.</p><p>But, there&rsquo;s a problem. Heroku doesn&rsquo;t provide a straightforward way to deploy
the project using GitHub Actions. I need to download <a href=https://devcenter.heroku.com/articles/heroku-cli>Heroku CLI</a> to
do it instead.</p><p>And if you&rsquo;ve been reading my articles, you would know I&rsquo;m quite a minimalist. I
don&rsquo;t like adding more bloatware & extra dependencies to my development machine
than what‚Äôs needed. Hence, I had to look out for an alternative.</p><p>My current development process is to commit changes on my local machine & then
push it to remote. The remote here is usually a GitHub repo with GitHub Actions
configured to trigger a suite of tests. And if everything passes, deploy the
project to production. Pretty standard practice & nothing fancy over here.</p><p>But the caveat is Heroku CLI uses <code>git</code> commands to push code to Heroku&rsquo;s
remote. So, it&rsquo;s pretty much like pushing code to a GitHub repository. But, with
no robust CI/CD pipelines. I could configure Heroku to deploy when the tests
pass On GitHub. But it&rsquo;s best to stick to standard practice & configure
everything under one roof.</p><p>Also, invoking <code>git</code> commands on a remote machine doesn&rsquo;t sound like a good
idea. So, I felt sharing the techniques I use to circumvent this tricky
situation was the right thing to do.</p><p>So, we&rsquo;ll be using GitHub Actions to configure a CI/CD pipeline. And,
<a href=http://fastapi.tiangolo.com/>FastAPI</a> to build our hypothetical REST API.</p><p>And, without further adieu, let&rsquo;s dive in & learn how to do it.</p><h2 id=things-to-know-before-deployment>Things to Know Before Deployment<a hidden class=anchor aria-hidden=true href=#things-to-know-before-deployment>#</a></h2><p>Heroku&rsquo;s design reflects the need for simplicity & reducing complexity. Its
users aren&rsquo;t expected to know in-depth CI/CD concepts & practices. But as long
as the users are well-acquainted with Git commands, they&rsquo;re good to go.</p><p>In other words, deploying a project to Heroku is as simple as pushing your code
to GitHub repos!</p><p>You would develop your project & then push your code to the Heroku remote. It
triggers a build process which sets up a web server on their remote servers. In
other words, deploying projects couldn&rsquo;t get any easier than this.</p><p>But there&rsquo;s a drawback to this process, Heroku doesn&rsquo;t provide a robust enough
CI/CD pipeline. There&rsquo;s no way to keep a check on any breaking changes or bugs.
This is where GitHub Actions come in handy.</p><p>So, we&rsquo;ll be using the <a href=https://github.com/AkhileshNS/heroku-deploy><code>heroku-deploy</code></a> Action by
<a href=https://github.com/AkhileshNS>AkhileshNS</a> to deploy the project. And the said
Action is a NodeJS wrapper around basic <code>git</code> command invocations. These
invocations are exactly like what you would use with Heroku CLI instead.</p><p>Further, to keep things simple & to-the-point, our FastAPI app is a single file
with no more than 8 lines of code!</p><p>Besides that, Heroku also requires some extra files for the build process to
work. And these files are also pushed to the Heroku remote as well. They‚Äôre
plain-text files with information for Heroku to parse during the build phase.
You‚Äôll find more details about them later in the article.</p><p>Additionally, the <code>heroku-deploy</code> Action also requires an API key for
authentication. So, ensure you&rsquo;ve it along with the project&rsquo;s name.</p><p>And with all the prerequisites taken care of, let&rsquo;s develop the project now.</p><h2 id=putting-everything-together>Putting Everything Together<a hidden class=anchor aria-hidden=true href=#putting-everything-together>#</a></h2><h3 id=our-simple-fastapi-project>Our Simple FastAPI Project<a hidden class=anchor aria-hidden=true href=#our-simple-fastapi-project>#</a></h3><p>With all the prerequisites set up & gathered, here‚Äôs an overview of our little
project.</p><p>To start with, the FastAPI project is pretty simple with only 8 lines of code!
It&rsquo;s source code is detailed in the <code>main.py</code> file. And it‚Äôs configured with
routes to return a set of JSON responses when queried. The said routes are; a
<code>/</code> (<em>or root</em>) route & a <code>/healthcheck</code> route. The latter of which has some
significance in our CI/CD pipeline as you&rsquo;ll see.</p><p>The root route returns a JSON response like this; <code>{"message": "Hello, World!"}</code>
when queried. And the <code>/healtchcheck</code> route acts as the last-line-of-defense for
the REST API. But it also returns a JSON response for better user
interpretation. So, if you invoke a <code>cURL</code> command to this route, you should get
back <code>{‚Äúmessage‚Äù: ‚ÄúEverything, OK!‚Äù}</code> response back.</p><p>We&rsquo;ll configure our CI/CD pipeline to query the health-check route to check if
it&rsquo;s still up & running. Failing to do so which means returning a <code>400</code> (<em>or
similar</em>) response code will invoke a roll-back. Hence, our REST API in
production will always be up & running regardless of any breaking changes or
bugs creeping in.</p><p>That said, here&rsquo;s what the source code for our REST API will look like:</p><div class=highlight><div style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">38
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#6ab825;font-weight:700>from</span> <span style=color:#447fcf;text-decoration:underline>fastapi</span> <span style=color:#6ab825;font-weight:700>import</span> FastAPI, status
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app = FastAPI()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:orange>@app</span>.get(<span style=color:#ed9d13>&#39;/&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#6ab825;font-weight:700>def</span> <span style=color:#447fcf>hello_world</span>():
</span></span><span style=display:flex><span>    <span style=color:#ed9d13>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    The root route which returns a JSON response.
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    The JSON response is delivered as:
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    {
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>      &#39;message&#39;: &#39;Hello, World!&#39;
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    }
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    &#39;&#39;&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>return</span> {<span style=color:#ed9d13>&#39;message&#39;</span>: <span style=color:#ed9d13>&#39;Hello, World!&#39;</span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:orange>@app</span>.get(<span style=color:#ed9d13>&#39;/healthcheck&#39;</span>, status_code=status.HTTP_200_OK)
</span></span><span style=display:flex><span><span style=color:#6ab825;font-weight:700>def</span> <span style=color:#447fcf>perform_healthcheck</span>():
</span></span><span style=display:flex><span>    <span style=color:#ed9d13>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    Simple route for the GitHub Actions to healthcheck on.
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    More info is available at:
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    https://github.com/akhileshns/heroku-deploy#health-check
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    It basically sends a GET request to the route &amp; hopes to get a &#34;200&#34;
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    response code. Failing to return a 200 response code just enables
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    the GitHub Actions to rollback to the last version the project was
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    found in a &#34;working condition&#34;. It acts as a last line of defense in
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    case something goes south.
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    Additionally, it also returns a JSON response in the form of:
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    {
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>      &#39;healtcheck&#39;: &#39;Everything OK!&#39;
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    }
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>    &#39;&#39;&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>return</span> {<span style=color:#ed9d13>&#39;healthcheck&#39;</span>: <span style=color:#ed9d13>&#39;Everything OK!&#39;</span>}
</span></span></code></pre></td></tr></table></div></div><h3 id=configuring-the-github-actions-workflow>Configuring the GitHub Actions Workflow<a hidden class=anchor aria-hidden=true href=#configuring-the-github-actions-workflow>#</a></h3><p>With our REST API built, let&rsquo;s configure a CI/CD pipeline for it. The pipeline
is pretty standard & is nothing fancy. On every Push and/or PR event, it&rsquo;ll
invoke a series of tests followed by code quality checks. And if everything
passes, the workflow will invoke the deployment process as well.</p><p>But before discussing more about our pipeline, let&rsquo;s learn a bit about GitHub
Actions.</p><p>It‚Äôs easy to confuse GitHub Actions as &ldquo;<em>yet another CI/CD tool</em>&rdquo;. But, it&rsquo;s
not. GitHub defines it as an automation tool for all software development needs
one can think of. And, there&rsquo;re many preconfigured Actions provided officially
by GitHub and/or the community as well. One such Action we&rsquo;ll use for our use
case is the <code>AkhileshNS/heroku-deploy</code> Action.</p><p>We‚Äôll trigger our workflow on every push event. But you can configure it to
trigger on other events as well. You can find more info on the list of <a href=https://docs.github.com/en/actions/reference/events-that-trigger-workflows>events
that triggers a workflow</a> it&rsquo;s official documentation.</p><p>Workflows are further configured through <a href=https://yaml.org/>YAML</a> files. And, they&rsquo;re stored
under the <code>.github/workflows</code> directory which is also version controlled. GitHub
will parse these YAML files for instructions on how to set up the environment.</p><p>And here&rsquo;s what our workflow looks like:</p><div class=highlight><div style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">34
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#999;font-style:italic># This is the .github/workflows/main.yml</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666></span><span style=color:#6ab825;font-weight:700>name</span>:<span style=color:#666> </span>Deploy<span style=color:#666> </span><span style=color:#999;font-style:italic># Name of the workflow</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666></span><span style=color:#999;font-style:italic># Events that trigger a workflow:</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666></span><span style=color:#999;font-style:italic># https://docs.github.com/en/actions/reference/events-that-trigger-workflows</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666></span><span style=color:#6ab825;font-weight:700>on</span>:<span style=color:#666> </span>push<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666></span><span style=color:#6ab825;font-weight:700>jobs</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>  </span><span style=color:#999;font-style:italic># Check out the following article for more inspiration on setting up a</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>  </span><span style=color:#999;font-style:italic># standard CI/CD pipeline for most Python projects:</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>  </span><span style=color:#999;font-style:italic># https://jarmos.netlify.app/posts/a-standard-ci-cd-pipeline-for-python-projects/</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>  </span><span style=color:#6ab825;font-weight:700>test</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>  </span><span style=color:#999;font-style:italic># Include your test suite here.</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>  </span><span style=color:#6ab825;font-weight:700>lint</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>  </span><span style=color:#999;font-style:italic># Lint &amp; format your code over here.</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>  </span><span style=color:#6ab825;font-weight:700>deploy</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>    </span><span style=color:#999;font-style:italic># If the test &amp; lint jobs don&#39;t pass,</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>    </span><span style=color:#999;font-style:italic># the deploy job willn&#39;t even execute</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>    </span><span style=color:#6ab825;font-weight:700>needs</span>:<span style=color:#666> </span>[test, lint]<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>    </span><span style=color:#6ab825;font-weight:700>runs-on</span>:<span style=color:#666> </span>ubuntu-latest<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>    </span><span style=color:#6ab825;font-weight:700>steps</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>      </span>- <span style=color:#6ab825;font-weight:700>name</span>:<span style=color:#666> </span>Checkout repository<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>        </span><span style=color:#6ab825;font-weight:700>uses</span>:<span style=color:#666> </span>actions/checkout@v2<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>      </span>- <span style=color:#6ab825;font-weight:700>name</span>:<span style=color:#666> </span>Deploying to Heroku<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>        </span><span style=color:#999;font-style:italic># More details available at:</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>        </span><span style=color:#999;font-style:italic># https://github.com/akhileshns/heroku-deploy</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>        </span><span style=color:#6ab825;font-weight:700>uses</span>:<span style=color:#666> </span>akhileshns/heroku-deploy@v3.12.12<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>        </span><span style=color:#6ab825;font-weight:700>with</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>          </span><span style=color:#6ab825;font-weight:700>heroku_api_key</span>:<span style=color:#666> </span>${{ secrets.HEROKU_API_KEY }}<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>          </span><span style=color:#6ab825;font-weight:700>heroku_app_name</span>:<span style=color:#666> </span><span style=color:#ed9d13>&#34;&lt;PROJECT-NAME&gt;&#34;</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>          </span><span style=color:#6ab825;font-weight:700>heroku_email</span>:<span style=color:#666> </span><span style=color:#ed9d13>&#34;&lt;EMAIL-ADDRESS&gt;&#34;</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>          </span><span style=color:#6ab825;font-weight:700>healthcheck</span>:<span style=color:#666> </span><span style=color:#ed9d13>&#34;https://&lt;PROJECT-NAME&gt;.herokuapp.com/healthcheck&#34;</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>          </span><span style=color:#6ab825;font-weight:700>rollbackonhealthcheckfailed</span>:<span style=color:#666> </span><span style=color:#6ab825;font-weight:700>true</span><span style=color:#666>
</span></span></span></code></pre></td></tr></table></div></div><p>GitHub Actions workflows have to adhere to a specific syntax. And explaining the
syntax is a bit out of context of this article. So, you can refer to the
<a href=https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions>official docs</a> for info to learn about the syntax.</p><p>That said, let&rsquo;s understand how we can customize our workflow.</p><p>At the top of our <code>main.yml</code> file is the name of the workflow signified with the
<code>name</code> keyword. It&rsquo;s followed by the <code>on</code> keyword which instructs GitHub Actions
to trigger the workflow on <code>push</code> events.</p><p>There&rsquo;re way more &ldquo;<em>on event</em>&rdquo; keywords available to trigger workflows. So, do
take a look at the documentation & configure your pipeline according to your
needs.</p><p>Continuing on, the <code>jobs</code> section of the workflow is pretty much the heart of
the pipeline. This is where GitHub will find instructions on which Actions to
trigger & when. For our needs, we defined 3 jobs & they&rsquo;ll run in parallel
unless explicitly configured not to do so.</p><p>The jobs are configured to run on the latest version of Ubuntu. And
additionally, the <code>deploy</code> job is dependent on the other previous jobs. So,
while the <code>test</code> & <code>linter</code> jobs run in parallel, the <code>deploy</code> job will wait
till they pass. And, if they don&rsquo;t, the <code>deploy</code> job willn‚Äôt even execute.</p><p>This structure of the pipeline ensures bugs are never introduced to production.
And hence, ensuring quality standards of the source code. And if you want to
know how to set up a code quality check for Python projects, I&rsquo;ve an article for
you. Check out
<a href=../a-standard-ci-cd-pipeline-for-python-projects>A Standard & Complete CI/CD Pipeline for Most Python Projects</a>
to know how to set it up.</p><p>Diving deeper into the <code>deploy</code> job, let&rsquo;s figure out it&rsquo;s exact purpose.</p><p>Like its predecessors, the <code>deploy</code> job also runs on the latest version of
Ubuntu. Then it instructs GitHub to parse the steps for execution. Accordingly,
GitHub &ldquo;<em>copies</em>&rdquo; the contents of the repo in the virtual environment. Following
which the <code>heroku-deploy</code> Action is executed.</p><p>The <code>heroku-deploy</code> Action also requires a couple of variables to function. And
these variables are provided using the <code>with</code> keyword. The said Action accepts
more variables than what we&rsquo;re using. So, do check out it&rsquo;s repo for further
configuration.</p><p>That said, we&rsquo;re using the <code>heroku_api_key</code>, <code>heroku_app_name</code>, <code>heroku_email</code>,
<code>healthcheck</code> & <code>rollbackonhealthcheckfailed</code> variables. Since, the first 3
variables accept valuable user-info, they&rsquo;re passed in as GitHub Secrets. The
<code>healtcheck</code> variable accepts an URL to the <code>/healthcheck</code> route. And finally,
the <code>rollbackonhealthcheckfailed</code> accepts a boolean value.</p><p>The last variable helps us as the last-line-of-defence. Anytime an event
triggers workflow & the project deploys, a health-check will be performed. It&rsquo;ll
look for a <code>200</code> response code & if it fails, the workflow will revert back to a
previous working version!</p><p>Pretty nifty if you ask me!</p><p>But then, why do we need such complexity in the first place?</p><p>You see, in production environments it&rsquo;s common to have robust CI/CD pipeline(s)
in place. These systems test your commit pushes & PR for any potential
breakages. And not to forget coding best practices & quality standards as well.</p><p>The health-check & roll back features of the pipeline are there as a
last-line-of-defence. Since, it is possible for bugs and/or breaking changes to
pass the preliminary checks. And it could break our REST API in production.
Imagine what it would be like for your project‚Äôs users (<em>and they paid for using
it</em>)!</p><p>But fortunate for us, you needn&rsquo;t worry about such a scenario ever becoming a
reality. With the health-check & roll-back features, issues will turn back north
as quickly as it turned south. So, in other words, you get a good night&rsquo;s sleep
without any worry.</p><h3 id=about-the-procfile-requirementstxt--runtimetxt-files>About the <code>Procfile</code>, <code>requirements.txt</code> & <code>runtime.txt</code> Files<a hidden class=anchor aria-hidden=true href=#about-the-procfile-requirementstxt--runtimetxt-files>#</a></h3><p>As mentioned earlier, Heroku requires certain plain-text files during the build
process. It parses these files to set up the web-server & the dependencies for
the project. So, for our REST API project which is a Python application,
following are the files Heroku needs to parse.</p><ul><li>The <code>Procfile</code> (<em>without a file extension</em>) which Heroku parses to set up a
web-server on the remote machine. So, while using uvicorn, the contents of the
file would be:
<code>uvicorn main:app --host=0.0.0.0 --port=${PORT:-5000} --workers 4</code>.</li><li>The <code>requirements.txt</code> lists project dependencies. And, Heroku will parse it
to install the project&rsquo;s dependencies.</li><li>The <code>runtime.txt</code> file states the specific Python version to use for our REST
API. So, if it depends on Python v3.8.10, the contents of the file would be
<code>python-3.8.10</code>. <strong>Do note the format</strong> & it has to be exactly similar else it
won&rsquo;t work.</li></ul><p>With these files, your build environment on Heroku should be up & running in no
time. But let&rsquo;s double check the directory structure before committing things to
version-control. Here&rsquo;s what your directory structure should look like:</p><div class=highlight><div style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>example_project/          <span style=color:#999;font-style:italic># Root directory for our project</span>
</span></span><span style=display:flex><span>‚îú‚îÄ .github/
</span></span><span style=display:flex><span>‚îÇ  ‚îú‚îÄ workflows/
</span></span><span style=display:flex><span>‚îÇ  ‚îÇ  ‚îú‚îÄ main.yml         <span style=color:#999;font-style:italic># Our Workflow file</span>
</span></span><span style=display:flex><span>‚îú‚îÄ main.py                <span style=color:#999;font-style:italic># Our FastAPI project</span>
</span></span><span style=display:flex><span>‚îú‚îÄ Procfile               <span style=color:#999;font-style:italic># Instructions for Heroku to setup Uvicorn</span>
</span></span><span style=display:flex><span>‚îú‚îÄ requirements.txt       <span style=color:#999;font-style:italic># Lists the dependencies of our project</span>
</span></span><span style=display:flex><span>‚îú‚îÄ runtime.txt            <span style=color:#999;font-style:italic># List the Python version our project depends on</span>
</span></span></code></pre></td></tr></table></div></div><p>Now, each time you push your changes to a GitHub repository, the push event will
trigger the workflow. And if the tests & code quality checks pass, the workflow
will try to deploy the project to Heroku. On top of it, if the health-check URL
returns a <code>200</code> response code back to our workflow, the REST API goes live!</p><p>You can then navigate to the <code>https://&lt;PROJECT-NAME>.herokuapp.com</code> URL to check
out our REST API. If it‚Äôs working you should see a JSON response on the screen.</p><p>With this setup, now you‚Äôve the best of both worlds. Simple deployment with
Heroku & robust code quality checks with GitHub Actions! And the best part of it
all, there was no need to use the Heroku CLI on your local machine.
üòÜ</p><h2 id=some-potential-roadblocks>Some Potential Roadblocks<a hidden class=anchor aria-hidden=true href=#some-potential-roadblocks>#</a></h2><p>While the techniques & code detailed out in this article works, it&rsquo;s not robust
enough. There&rsquo;re a couple of fragile areas in the <code>heroku-deploy</code> Action which
need to be taken care of. If you peruse through the source code, you‚Äôll find
it&rsquo;s <a href=https://github.com/AkhileshNS/heroku-deploy/blob/79ef2ae4ff9b897010907016b268fd0f88561820/index.js#L19>invoking actual <code>git</code> commands</a>
using NodeJS.</p><p>But, NodeJS wasn&rsquo;t meant to invoke shell commands. So, no wonder things can &
will break while using it. In other words, the Action used here is more of a
workaround than anything else!</p><p>A better solution to this problem would be to wrap an API provided by Heroku to
create an Action. And fortunate for us, appears to be some light at the other
end of this tunnel. Heroku provides an official API to interact with their build
process & other services. They named it <a href=https://devcenter.heroku.com/articles/platform-api-reference>Heroku Platform
API</a>. They even shared an article to <a href=https://blog.heroku.com/programmatically_release_code_to_heroku_using_the_platform_api>programmatically
release code to Heroku</a> using
their Platform API.</p><p>So, a shout-out to JavaScript developers. If you&rsquo;re reading this & you&rsquo;re
experienced developing GitHub Actions, the community needs you. But till then,
this article should be a good guideline for anyone wanting to deploy their
FastAPI app to Heroku.</p><p>There are other alternatives though. Google Serverless Infrastructure is one &
other provided by Microsoft Azure and/or Amazon Web Service. So, if you want to
try them out, check this article I authored Google&rsquo;s Serverless offering. You
can read it at:
<a href=../posts/google-serverless-infrastructure-what-are-the-differences>Google Serverless Infrastructure: A Primer on GCP & Serverless Computing</a>.</p><p>Until then cheers & happy developing! üçª</p></div><br><div class=form><div class=newsletter-form><script src=https://f.convertkit.com/ckjs/ck.5.js></script><form action=https://app.convertkit.com/forms/2046809/subscriptions class="seva-form formkit-form" method=post data-sv-form=2046809 data-uid=12c9657bcb data-format=inline data-version=5 data-options='{"settings":{"after_subscribe":{"action":"message","success_message":"Success! Now check your email to confirm your subscription.","redirect_url":""},"analytics":{"google":null,"facebook":null,"segment":null,"pinterest":null,"sparkloop":null,"googletagmanager":null},"modal":{"trigger":"timer","scroll_percentage":null,"timer":5,"devices":"all","show_once_every":15},"powered_by":{"show":true,"url":"https://convertkit.com?utm_source=dynamic&utm_medium=referral&utm_campaign=poweredby&utm_content=form"},"recaptcha":{"enabled":false},"return_visitor":{"action":"hide","custom_content":""},"slide_in":{"display_in":"bottom_right","trigger":"timer","scroll_percentage":null,"timer":5,"devices":"all","show_once_every":15},"sticky_bar":{"display_in":"top","trigger":"timer","scroll_percentage":null,"timer":5,"devices":"all","show_once_every":15}},"version":"5"}' min-width="400 500 600 700 800" style=background-color:#ced5dc;border-radius:10px><div class=formkit-background style=opacity:.25></div><div data-style=minimal><div class=formkit-header data-element=header style=color:#4d4d4d;font-size:27px;font-weight:700><h1>Join the Newsletter</h1></div><div class=formkit-subheader data-element=subheader style=color:#686868;font-size:19px><p>Subscribe to get the latest contents & other personalized updates
delivered to your inbox!</p></div><ul class="formkit-alert formkit-alert-error" data-element=errors data-group=alert></ul><div data-element=fields data-stacked=true class="seva-fields formkit-fields"><div class=formkit-field><input class=formkit-input aria-label="Your Name" name=fields[first_name] required placeholder="Your Name" type=text style=color:#3b3636;border-color:#e3e3e3;border-radius:10px;font-weight:700></div><div class=formkit-field><input class=formkit-input name=email_address aria-label="Email Address" placeholder="Email Address" required type=email style=color:#3b3636;border-color:#e3e3e3;border-radius:10px;font-weight:700></div><button data-element=submit class="formkit-submit formkit-submit" style=color:#fff;background-color:#909a9d;border-radius:10px;font-weight:700><div class=formkit-spinner><div></div><div></div><div></div></div><span>Subscribe</span></button></div><div class=formkit-guarantee data-element=guarantee style=color:#4d4d4d;font-size:13px;font-weight:400><p>There won't be any spam. Unsubscribe at any time.</p></div></div><style>.formkit-form[data-uid="12c9657bcb"] *{box-sizing:border-box}.formkit-form[data-uid="12c9657bcb"]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.formkit-form[data-uid="12c9657bcb"] legend{border:none;font-size:inherit;margin-bottom:10px;padding:0;position:relative;display:table}.formkit-form[data-uid="12c9657bcb"] fieldset{border:0;padding:.01em 0 0;margin:0;min-width:0}.formkit-form[data-uid="12c9657bcb"] body:not(:-moz-handler-blocked) fieldset{display:table-cell}.formkit-form[data-uid="12c9657bcb"] h1,.formkit-form[data-uid="12c9657bcb"] h2,.formkit-form[data-uid="12c9657bcb"] h3,.formkit-form[data-uid="12c9657bcb"] h4,.formkit-form[data-uid="12c9657bcb"] h5,.formkit-form[data-uid="12c9657bcb"] h6{color:inherit;font-size:inherit;font-weight:inherit}.formkit-form[data-uid="12c9657bcb"] p{color:inherit;font-size:inherit;font-weight:inherit}.formkit-form[data-uid="12c9657bcb"] ol:not([template-default]),.formkit-form[data-uid="12c9657bcb"] ul:not([template-default]),.formkit-form[data-uid="12c9657bcb"] blockquote:not([template-default]){text-align:left}.formkit-form[data-uid="12c9657bcb"] p:not([template-default]),.formkit-form[data-uid="12c9657bcb"] hr:not([template-default]),.formkit-form[data-uid="12c9657bcb"] blockquote:not([template-default]),.formkit-form[data-uid="12c9657bcb"] ol:not([template-default]),.formkit-form[data-uid="12c9657bcb"] ul:not([template-default]){color:inherit;font-style:initial}.formkit-form[data-uid="12c9657bcb"] .ordered-list,.formkit-form[data-uid="12c9657bcb"] .unordered-list{list-style-position:outside!important;padding-left:1em}.formkit-form[data-uid="12c9657bcb"] .list-item{padding-left:0}.formkit-form[data-uid="12c9657bcb"][data-format=modal]{display:none}.formkit-form[data-uid="12c9657bcb"][data-format="slide in"]{display:none}.formkit-form[data-uid="12c9657bcb"][data-format="sticky bar"]{display:none}.formkit-sticky-bar .formkit-form[data-uid="12c9657bcb"][data-format="sticky bar"]{display:block}.formkit-form[data-uid="12c9657bcb"] .formkit-input,.formkit-form[data-uid="12c9657bcb"] .formkit-select,.formkit-form[data-uid="12c9657bcb"] .formkit-checkboxes{width:100%}.formkit-form[data-uid="12c9657bcb"] .formkit-button,.formkit-form[data-uid="12c9657bcb"] .formkit-submit{border:0;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;text-align:center;font-size:15px;font-weight:500;cursor:pointer;margin-bottom:15px;overflow:hidden;padding:0;position:relative;vertical-align:middle}.formkit-form[data-uid="12c9657bcb"] .formkit-button:hover,.formkit-form[data-uid="12c9657bcb"] .formkit-submit:hover,.formkit-form[data-uid="12c9657bcb"] .formkit-button:focus,.formkit-form[data-uid="12c9657bcb"] .formkit-submit:focus{outline:none}.formkit-form[data-uid="12c9657bcb"] .formkit-button:hover>span,.formkit-form[data-uid="12c9657bcb"] .formkit-submit:hover>span,.formkit-form[data-uid="12c9657bcb"] .formkit-button:focus>span,.formkit-form[data-uid="12c9657bcb"] .formkit-submit:focus>span{background-color:rgba(0,0,0,.1)}.formkit-form[data-uid="12c9657bcb"] .formkit-button>span,.formkit-form[data-uid="12c9657bcb"] .formkit-submit>span{display:block;-webkit-transition:all 300ms ease-in-out;transition:all 300ms ease-in-out;padding:12px 24px}.formkit-form[data-uid="12c9657bcb"] .formkit-input{background:#fff;font-size:15px;padding:12px;border:1px solid #e3e3e3;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;line-height:1.4;margin:0;-webkit-transition:border-color ease-out 300ms;transition:border-color ease-out 300ms}.formkit-form[data-uid="12c9657bcb"] .formkit-input:focus{outline:none;border-color:#1677be;-webkit-transition:border-color ease 300ms;transition:border-color ease 300ms}.formkit-form[data-uid="12c9657bcb"] .formkit-input::-webkit-input-placeholder{color:inherit;opacity:.8}.formkit-form[data-uid="12c9657bcb"] .formkit-input::-moz-placeholder{color:inherit;opacity:.8}.formkit-form[data-uid="12c9657bcb"] .formkit-input:-ms-input-placeholder{color:inherit;opacity:.8}.formkit-form[data-uid="12c9657bcb"] .formkit-input::placeholder{color:inherit;opacity:.8}.formkit-form[data-uid="12c9657bcb"] [data-group=dropdown]{position:relative;display:inline-block;width:100%}.formkit-form[data-uid="12c9657bcb"] [data-group=dropdown]::before{content:"";top:calc(50% - 2.5px);right:10px;position:absolute;pointer-events:none;border-color:#4f4f4f transparent transparent transparent;border-style:solid;border-width:6px 6px 0;height:0;width:0;z-index:999}.formkit-form[data-uid="12c9657bcb"] [data-group=dropdown] select{height:auto;width:100%;cursor:pointer;color:#333;line-height:1.4;margin-bottom:0;padding:0 6px;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:15px;padding:12px;padding-right:25px;border:1px solid #e3e3e3;background:#fff}.formkit-form[data-uid="12c9657bcb"] [data-group=dropdown] select:focus{outline:none}.formkit-form[data-uid="12c9657bcb"] [data-group=checkboxes]{text-align:left;margin:0}.formkit-form[data-uid="12c9657bcb"] [data-group=checkboxes] [data-group=checkbox]{margin-bottom:10px}.formkit-form[data-uid="12c9657bcb"] [data-group=checkboxes] [data-group=checkbox] *{cursor:pointer}.formkit-form[data-uid="12c9657bcb"] [data-group=checkboxes] [data-group=checkbox]:last-of-type{margin-bottom:0}.formkit-form[data-uid="12c9657bcb"] [data-group=checkboxes] [data-group=checkbox] input[type=checkbox]{display:none}.formkit-form[data-uid="12c9657bcb"] [data-group=checkboxes] [data-group=checkbox] input[type=checkbox]+label::after{content:none}.formkit-form[data-uid="12c9657bcb"] [data-group=checkboxes] [data-group=checkbox] input[type=checkbox]:checked+label::after{border-color:#fff;content:""}.formkit-form[data-uid="12c9657bcb"] [data-group=checkboxes] [data-group=checkbox] input[type=checkbox]:checked+label::before{background:#10bf7a;border-color:#10bf7a}.formkit-form[data-uid="12c9657bcb"] [data-group=checkboxes] [data-group=checkbox] label{position:relative;display:inline-block;padding-left:28px}.formkit-form[data-uid="12c9657bcb"] [data-group=checkboxes] [data-group=checkbox] label::before,.formkit-form[data-uid="12c9657bcb"] [data-group=checkboxes] [data-group=checkbox] label::after{position:absolute;content:"";display:inline-block}.formkit-form[data-uid="12c9657bcb"] [data-group=checkboxes] [data-group=checkbox] label::before{height:16px;width:16px;border:1px solid #e3e3e3;background:#fff;left:0;top:3px}.formkit-form[data-uid="12c9657bcb"] [data-group=checkboxes] [data-group=checkbox] label::after{height:4px;width:8px;border-left:2px solid #4d4d4d;border-bottom:2px solid #4d4d4d;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);left:4px;top:8px}.formkit-form[data-uid="12c9657bcb"] .formkit-alert{background:#f9fafb;border:1px solid #e3e3e3;border-radius:5px;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;list-style:none;margin:25px auto;padding:12px;text-align:center;width:100%}.formkit-form[data-uid="12c9657bcb"] .formkit-alert:empty{display:none}.formkit-form[data-uid="12c9657bcb"] .formkit-alert-success{background:#d3fbeb;border-color:#10bf7a;color:#0c905c}.formkit-form[data-uid="12c9657bcb"] .formkit-alert-error{background:#fde8e2;border-color:#f2643b;color:#ea4110}.formkit-form[data-uid="12c9657bcb"] .formkit-spinner{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:0;width:0;margin:0 auto;position:absolute;top:0;left:0;right:0;width:0;overflow:hidden;text-align:center;-webkit-transition:all 300ms ease-in-out;transition:all 300ms ease-in-out}.formkit-form[data-uid="12c9657bcb"] .formkit-spinner>div{margin:auto;width:12px;height:12px;background-color:#fff;opacity:.3;border-radius:100%;display:inline-block;-webkit-animation:formkit-bouncedelay-formkit-form-data-uid-12c9657bcb- 1.4s infinite ease-in-out both;animation:formkit-bouncedelay-formkit-form-data-uid-12c9657bcb- 1.4s infinite ease-in-out both}.formkit-form[data-uid="12c9657bcb"] .formkit-spinner>div:nth-child(1){-webkit-animation-delay:-.32s;animation-delay:-.32s}.formkit-form[data-uid="12c9657bcb"] .formkit-spinner>div:nth-child(2){-webkit-animation-delay:-.16s;animation-delay:-.16s}.formkit-form[data-uid="12c9657bcb"] .formkit-submit[data-active] .formkit-spinner{opacity:1;height:100%;width:50px}.formkit-form[data-uid="12c9657bcb"] .formkit-submit[data-active] .formkit-spinner~span{opacity:0}.formkit-form[data-uid="12c9657bcb"] .formkit-powered-by[data-active=false]{opacity:.35}.formkit-form[data-uid="12c9657bcb"] .formkit-powered-by-convertkit-container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;z-index:5;margin:10px 0;position:relative}.formkit-form[data-uid="12c9657bcb"] .formkit-powered-by-convertkit-container[data-active=false]{opacity:.35}.formkit-form[data-uid="12c9657bcb"] .formkit-powered-by-convertkit{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;border:1px solid #dce1e5;border-radius:4px;color:#373f45;cursor:pointer;display:block;height:36px;margin:0 auto;opacity:.95;padding:0;-webkit-text-decoration:none;text-decoration:none;text-indent:100%;-webkit-transition:ease-in-out all 200ms;transition:ease-in-out all 200ms;white-space:nowrap;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:190px;background-repeat:no-repeat;background-position:50%;background-image:url("data:image/svg+xml;charset=utf8,%3Csvg width='162' height='20' viewBox='0 0 162 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M83.0561 15.2457C86.675 15.2457 89.4722 12.5154 89.4722 9.14749C89.4722 5.99211 86.8443 4.06563 85.1038 4.06563C82.6801 4.06563 80.7373 5.76407 80.4605 8.28551C80.4092 8.75244 80.0387 9.14403 79.5686 9.14069C78.7871 9.13509 77.6507 9.12841 76.9314 9.13092C76.6217 9.13199 76.3658 8.88106 76.381 8.57196C76.4895 6.38513 77.2218 4.3404 78.618 2.76974C80.1695 1.02445 82.4289 0 85.1038 0C89.5979 0 93.8406 4.07791 93.8406 9.14749C93.8406 14.7608 89.1832 19.3113 83.1517 19.3113C78.8502 19.3113 74.5179 16.5041 73.0053 12.5795C72.9999 12.565 72.9986 12.5492 73.0015 12.534C73.0218 12.4179 73.0617 12.3118 73.1011 12.2074C73.1583 12.0555 73.2143 11.907 73.2062 11.7359L73.18 11.1892C73.174 11.0569 73.2075 10.9258 73.2764 10.8127C73.3452 10.6995 73.4463 10.6094 73.5666 10.554L73.7852 10.4523C73.9077 10.3957 74.0148 10.3105 74.0976 10.204C74.1803 10.0974 74.2363 9.97252 74.2608 9.83983C74.3341 9.43894 74.6865 9.14749 75.0979 9.14749C75.7404 9.14749 76.299 9.57412 76.5088 10.1806C77.5188 13.1 79.1245 15.2457 83.0561 15.2457Z' fill='%23373F45'/%3E%3Cpath d='M155.758 6.91365C155.028 6.91365 154.804 6.47916 154.804 5.98857C154.804 5.46997 154.986 5.06348 155.758 5.06348C156.53 5.06348 156.712 5.46997 156.712 5.98857C156.712 6.47905 156.516 6.91365 155.758 6.91365ZM142.441 12.9304V9.32833L141.415 9.32323V8.90392C141.415 8.44719 141.786 8.07758 142.244 8.07986L142.441 8.08095V6.55306L144.082 6.09057V8.08073H145.569V8.50416C145.569 8.61242 145.548 8.71961 145.506 8.81961C145.465 8.91961 145.404 9.01047 145.328 9.08699C145.251 9.16351 145.16 9.2242 145.06 9.26559C144.96 9.30698 144.853 9.32826 144.745 9.32822H144.082V12.7201C144.082 13.2423 144.378 13.4256 144.76 13.4887C145.209 13.5629 145.583 13.888 145.583 14.343V14.9626C144.029 14.9626 142.441 14.8942 142.441 12.9304Z' fill='%23373F45'/%3E%3Cpath d='M110.058 7.92554C108.417 7.88344 106.396 8.92062 106.396 11.5137C106.396 14.0646 108.417 15.0738 110.058 15.0318C111.742 15.0738 113.748 14.0646 113.748 11.5137C113.748 8.92062 111.742 7.88344 110.058 7.92554ZM110.07 13.7586C108.878 13.7586 108.032 12.8905 108.032 11.461C108.032 10.1013 108.878 9.20569 110.071 9.20569C111.263 9.20569 112.101 10.0995 112.101 11.459C112.101 12.8887 111.263 13.7586 110.07 13.7586Z' fill='%23373F45'/%3E%3Cpath d='M118.06 7.94098C119.491 7.94098 120.978 8.33337 120.978 11.1366V14.893H120.063C119.608 14.893 119.238 14.524 119.238 14.0689V10.9965C119.238 9.66506 118.747 9.16047 117.891 9.16047C117.414 9.16047 116.797 9.52486 116.502 9.81915V14.069C116.502 14.1773 116.481 14.2845 116.44 14.3845C116.398 14.4845 116.337 14.5753 116.261 14.6519C116.184 14.7284 116.093 14.7891 115.993 14.8305C115.893 14.8719 115.786 14.8931 115.678 14.8931H114.847V8.10918H115.773C115.932 8.10914 116.087 8.16315 116.212 8.26242C116.337 8.36168 116.424 8.50033 116.46 8.65577C116.881 8.19328 117.428 7.94098 118.06 7.94098ZM122.854 8.09713C123.024 8.09708 123.19 8.1496 123.329 8.2475C123.468 8.34541 123.574 8.48391 123.631 8.64405L125.133 12.8486L126.635 8.64415C126.692 8.48402 126.798 8.34551 126.937 8.2476C127.076 8.1497 127.242 8.09718 127.412 8.09724H128.598L126.152 14.3567C126.091 14.5112 125.986 14.6439 125.849 14.7374C125.711 14.831 125.549 14.881 125.383 14.8809H124.333L121.668 8.09713H122.854Z' fill='%23373F45'/%3E%3Cpath d='M135.085 14.5514C134.566 14.7616 133.513 15.0416 132.418 15.0416C130.496 15.0416 129.024 13.9345 129.024 11.4396C129.024 9.19701 130.451 7.99792 132.191 7.99792C134.338 7.99792 135.254 9.4378 135.158 11.3979C135.139 11.8029 134.786 12.0983 134.38 12.0983H130.679C130.763 13.1916 131.562 13.7662 132.615 13.7662C133.028 13.7662 133.462 13.7452 133.983 13.6481C134.535 13.545 135.085 13.9375 135.085 14.4985V14.5514ZM133.673 10.949C133.785 9.87621 133.061 9.28752 132.191 9.28752C131.321 9.28752 130.734 9.93979 130.679 10.9489L133.673 10.949Z' fill='%23373F45'/%3E%3Cpath d='M137.345 8.11122C137.497 8.11118 137.645 8.16229 137.765 8.25635C137.884 8.35041 137.969 8.48197 138.005 8.62993C138.566 8.20932 139.268 7.94303 139.759 7.94303C139.801 7.94303 140.068 7.94303 140.489 7.99913V8.7265C140.489 9.11748 140.15 9.4147 139.759 9.4147C139.31 9.4147 138.651 9.5829 138.131 9.8773V14.8951H136.462V8.11112L137.345 8.11122ZM156.6 14.0508V8.09104H155.769C155.314 8.09104 154.944 8.45999 154.944 8.9151V14.8748H155.775C156.23 14.8748 156.6 14.5058 156.6 14.0508ZM158.857 12.9447V9.34254H157.749V8.91912C157.749 8.46401 158.118 8.09506 158.574 8.09506H158.857V6.56739L160.499 6.10479V8.09506H161.986V8.51848C161.986 8.97359 161.617 9.34254 161.161 9.34254H160.499V12.7345C160.499 13.2566 160.795 13.44 161.177 13.503C161.626 13.5774 162 13.9024 162 14.3574V14.977C160.446 14.977 158.857 14.9086 158.857 12.9447ZM98.1929 10.1124C98.2033 6.94046 100.598 5.16809 102.895 5.16809C104.171 5.16809 105.342 5.44285 106.304 6.12953L105.914 6.6631C105.654 7.02011 105.16 7.16194 104.749 6.99949C104.169 6.7702 103.622 6.7218 103.215 6.7218C101.335 6.7218 99.9169 7.92849 99.9068 10.1123C99.9169 12.2959 101.335 13.5201 103.215 13.5201C103.622 13.5201 104.169 13.4717 104.749 13.2424C105.16 13.0799 105.654 13.2046 105.914 13.5615L106.304 14.0952C105.342 14.7819 104.171 15.0566 102.895 15.0566C100.598 15.0566 98.2033 13.2842 98.1929 10.1124ZM147.619 5.21768C148.074 5.21768 148.444 5.58663 148.444 6.04174V9.81968L151.82 5.58131C151.897 5.47733 151.997 5.39282 152.112 5.3346C152.227 5.27638 152.355 5.24607 152.484 5.24611H153.984L150.166 10.0615L153.984 14.8749H152.484C152.355 14.8749 152.227 14.8446 152.112 14.7864C151.997 14.7281 151.897 14.6436 151.82 14.5397L148.444 10.3025V14.0508C148.444 14.5059 148.074 14.8749 147.619 14.8749H146.746V5.21768H147.619Z' fill='%23373F45'/%3E%3Cpath d='M0.773438 6.5752H2.68066C3.56543 6.5752 4.2041 6.7041 4.59668 6.96191C4.99219 7.21973 5.18994 7.62695 5.18994 8.18359C5.18994 8.55859 5.09326 8.87061 4.8999 9.11963C4.70654 9.36865 4.42822 9.52539 4.06494 9.58984V9.63379C4.51611 9.71875 4.84717 9.88721 5.05811 10.1392C5.27197 10.3882 5.37891 10.7266 5.37891 11.1543C5.37891 11.7314 5.17676 12.1841 4.77246 12.5122C4.37109 12.8374 3.81152 13 3.09375 13H0.773438V6.5752ZM1.82373 9.22949H2.83447C3.27393 9.22949 3.59473 9.16064 3.79688 9.02295C3.99902 8.88232 4.1001 8.64502 4.1001 8.31104C4.1001 8.00928 3.99023 7.79102 3.77051 7.65625C3.55371 7.52148 3.20801 7.4541 2.7334 7.4541H1.82373V9.22949ZM1.82373 10.082V12.1167H2.93994C3.37939 12.1167 3.71045 12.0332 3.93311 11.8662C4.15869 11.6963 4.27148 11.4297 4.27148 11.0664C4.27148 10.7324 4.15723 10.4849 3.92871 10.3237C3.7002 10.1626 3.35303 10.082 2.88721 10.082H1.82373Z' fill='%23373F45'/%3E%3Cpath d='M13.011 6.5752V10.7324C13.011 11.207 12.9084 11.623 12.7034 11.9805C12.5012 12.335 12.2068 12.6089 11.8201 12.8022C11.4363 12.9927 10.9763 13.0879 10.4402 13.0879C9.6433 13.0879 9.02368 12.877 8.5813 12.4551C8.13892 12.0332 7.91772 11.4531 7.91772 10.7148V6.5752H8.9724V10.6401C8.9724 11.1704 9.09546 11.5615 9.34155 11.8135C9.58765 12.0654 9.96557 12.1914 10.4753 12.1914C11.4656 12.1914 11.9607 11.6714 11.9607 10.6313V6.5752H13.011Z' fill='%23373F45'/%3E%3Cpath d='M15.9146 13V6.5752H16.9649V13H15.9146Z' fill='%23373F45'/%3E%3Cpath d='M19.9255 13V6.5752H20.9758V12.0991H23.696V13H19.9255Z' fill='%23373F45'/%3E%3Cpath d='M28.2828 13H27.2325V7.47607H25.3428V6.5752H30.1724V7.47607H28.2828V13Z' fill='%23373F45'/%3E%3Cpath d='M41.9472 13H40.8046L39.7148 9.16796C39.6679 9.00097 39.6093 8.76074 39.539 8.44727C39.4687 8.13086 39.4262 7.91113 39.4116 7.78809C39.3823 7.97559 39.3339 8.21875 39.2665 8.51758C39.2021 8.81641 39.1479 9.03905 39.1039 9.18554L38.0405 13H36.8979L36.0673 9.7832L35.2236 6.5752H36.2958L37.2143 10.3193C37.3578 10.9199 37.4604 11.4502 37.5219 11.9102C37.5541 11.6611 37.6025 11.3828 37.6669 11.0752C37.7314 10.7676 37.79 10.5186 37.8427 10.3281L38.8886 6.5752H39.9301L41.0024 10.3457C41.1049 10.6943 41.2133 11.2158 41.3276 11.9102C41.3715 11.4912 41.477 10.958 41.644 10.3105L42.558 6.5752H43.6215L41.9472 13Z' fill='%23373F45'/%3E%3Cpath d='M45.7957 13V6.5752H46.846V13H45.7957Z' fill='%23373F45'/%3E%3Cpath d='M52.0258 13H50.9755V7.47607H49.0859V6.5752H53.9155V7.47607H52.0258V13Z' fill='%23373F45'/%3E%3Cpath d='M61.2312 13H60.1765V10.104H57.2146V13H56.1643V6.5752H57.2146V9.20312H60.1765V6.5752H61.2312V13Z' fill='%23373F45'/%3E%3C/svg%3E")}.formkit-form[data-uid="12c9657bcb"] .formkit-powered-by-convertkit:hover,.formkit-form[data-uid="12c9657bcb"] .formkit-powered-by-convertkit:focus{background-color:#fff;-webkit-transform:scale(1.025)perspective(1px);-ms-transform:scale(1.025)perspective(1px);transform:scale(1.025)perspective(1px);opacity:1}.formkit-form[data-uid="12c9657bcb"] .formkit-powered-by-convertkit[data-variant=dark],.formkit-form[data-uid="12c9657bcb"] .formkit-powered-by-convertkit[data-variant=light]{background-color:transparent;border-color:transparent;width:166px}.formkit-form[data-uid="12c9657bcb"] .formkit-powered-by-convertkit[data-variant=light]{color:#fff;background-image:url("data:image/svg+xml;charset=utf8,%3Csvg width='162' height='20' viewBox='0 0 162 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M83.0561 15.2457C86.675 15.2457 89.4722 12.5154 89.4722 9.14749C89.4722 5.99211 86.8443 4.06563 85.1038 4.06563C82.6801 4.06563 80.7373 5.76407 80.4605 8.28551C80.4092 8.75244 80.0387 9.14403 79.5686 9.14069C78.7871 9.13509 77.6507 9.12841 76.9314 9.13092C76.6217 9.13199 76.3658 8.88106 76.381 8.57196C76.4895 6.38513 77.2218 4.3404 78.618 2.76974C80.1695 1.02445 82.4289 0 85.1038 0C89.5979 0 93.8406 4.07791 93.8406 9.14749C93.8406 14.7608 89.1832 19.3113 83.1517 19.3113C78.8502 19.3113 74.5179 16.5041 73.0053 12.5795C72.9999 12.565 72.9986 12.5492 73.0015 12.534C73.0218 12.4179 73.0617 12.3118 73.1011 12.2074C73.1583 12.0555 73.2143 11.907 73.2062 11.7359L73.18 11.1892C73.174 11.0569 73.2075 10.9258 73.2764 10.8127C73.3452 10.6995 73.4463 10.6094 73.5666 10.554L73.7852 10.4523C73.9077 10.3957 74.0148 10.3105 74.0976 10.204C74.1803 10.0974 74.2363 9.97252 74.2608 9.83983C74.3341 9.43894 74.6865 9.14749 75.0979 9.14749C75.7404 9.14749 76.299 9.57412 76.5088 10.1806C77.5188 13.1 79.1245 15.2457 83.0561 15.2457Z' fill='white'/%3E%3Cpath d='M155.758 6.91365C155.028 6.91365 154.804 6.47916 154.804 5.98857C154.804 5.46997 154.986 5.06348 155.758 5.06348C156.53 5.06348 156.712 5.46997 156.712 5.98857C156.712 6.47905 156.516 6.91365 155.758 6.91365ZM142.441 12.9304V9.32833L141.415 9.32323V8.90392C141.415 8.44719 141.786 8.07758 142.244 8.07986L142.441 8.08095V6.55306L144.082 6.09057V8.08073H145.569V8.50416C145.569 8.61242 145.548 8.71961 145.506 8.81961C145.465 8.91961 145.404 9.01047 145.328 9.08699C145.251 9.16351 145.16 9.2242 145.06 9.26559C144.96 9.30698 144.853 9.32826 144.745 9.32822H144.082V12.7201C144.082 13.2423 144.378 13.4256 144.76 13.4887C145.209 13.5629 145.583 13.888 145.583 14.343V14.9626C144.029 14.9626 142.441 14.8942 142.441 12.9304Z' fill='white'/%3E%3Cpath d='M110.058 7.92554C108.417 7.88344 106.396 8.92062 106.396 11.5137C106.396 14.0646 108.417 15.0738 110.058 15.0318C111.742 15.0738 113.748 14.0646 113.748 11.5137C113.748 8.92062 111.742 7.88344 110.058 7.92554ZM110.07 13.7586C108.878 13.7586 108.032 12.8905 108.032 11.461C108.032 10.1013 108.878 9.20569 110.071 9.20569C111.263 9.20569 112.101 10.0995 112.101 11.459C112.101 12.8887 111.263 13.7586 110.07 13.7586Z' fill='white'/%3E%3Cpath d='M118.06 7.94098C119.491 7.94098 120.978 8.33337 120.978 11.1366V14.893H120.063C119.608 14.893 119.238 14.524 119.238 14.0689V10.9965C119.238 9.66506 118.747 9.16047 117.891 9.16047C117.414 9.16047 116.797 9.52486 116.502 9.81915V14.069C116.502 14.1773 116.481 14.2845 116.44 14.3845C116.398 14.4845 116.337 14.5753 116.261 14.6519C116.184 14.7284 116.093 14.7891 115.993 14.8305C115.893 14.8719 115.786 14.8931 115.678 14.8931H114.847V8.10918H115.773C115.932 8.10914 116.087 8.16315 116.212 8.26242C116.337 8.36168 116.424 8.50033 116.46 8.65577C116.881 8.19328 117.428 7.94098 118.06 7.94098ZM122.854 8.09713C123.024 8.09708 123.19 8.1496 123.329 8.2475C123.468 8.34541 123.574 8.48391 123.631 8.64405L125.133 12.8486L126.635 8.64415C126.692 8.48402 126.798 8.34551 126.937 8.2476C127.076 8.1497 127.242 8.09718 127.412 8.09724H128.598L126.152 14.3567C126.091 14.5112 125.986 14.6439 125.849 14.7374C125.711 14.831 125.549 14.881 125.383 14.8809H124.333L121.668 8.09713H122.854Z' fill='white'/%3E%3Cpath d='M135.085 14.5514C134.566 14.7616 133.513 15.0416 132.418 15.0416C130.496 15.0416 129.024 13.9345 129.024 11.4396C129.024 9.19701 130.451 7.99792 132.191 7.99792C134.338 7.99792 135.254 9.4378 135.158 11.3979C135.139 11.8029 134.786 12.0983 134.38 12.0983H130.679C130.763 13.1916 131.562 13.7662 132.615 13.7662C133.028 13.7662 133.462 13.7452 133.983 13.6481C134.535 13.545 135.085 13.9375 135.085 14.4985V14.5514ZM133.673 10.949C133.785 9.87621 133.061 9.28752 132.191 9.28752C131.321 9.28752 130.734 9.93979 130.679 10.9489L133.673 10.949Z' fill='white'/%3E%3Cpath d='M137.345 8.11122C137.497 8.11118 137.645 8.16229 137.765 8.25635C137.884 8.35041 137.969 8.48197 138.005 8.62993C138.566 8.20932 139.268 7.94303 139.759 7.94303C139.801 7.94303 140.068 7.94303 140.489 7.99913V8.7265C140.489 9.11748 140.15 9.4147 139.759 9.4147C139.31 9.4147 138.651 9.5829 138.131 9.8773V14.8951H136.462V8.11112L137.345 8.11122ZM156.6 14.0508V8.09104H155.769C155.314 8.09104 154.944 8.45999 154.944 8.9151V14.8748H155.775C156.23 14.8748 156.6 14.5058 156.6 14.0508ZM158.857 12.9447V9.34254H157.749V8.91912C157.749 8.46401 158.118 8.09506 158.574 8.09506H158.857V6.56739L160.499 6.10479V8.09506H161.986V8.51848C161.986 8.97359 161.617 9.34254 161.161 9.34254H160.499V12.7345C160.499 13.2566 160.795 13.44 161.177 13.503C161.626 13.5774 162 13.9024 162 14.3574V14.977C160.446 14.977 158.857 14.9086 158.857 12.9447ZM98.1929 10.1124C98.2033 6.94046 100.598 5.16809 102.895 5.16809C104.171 5.16809 105.342 5.44285 106.304 6.12953L105.914 6.6631C105.654 7.02011 105.16 7.16194 104.749 6.99949C104.169 6.7702 103.622 6.7218 103.215 6.7218C101.335 6.7218 99.9169 7.92849 99.9068 10.1123C99.9169 12.2959 101.335 13.5201 103.215 13.5201C103.622 13.5201 104.169 13.4717 104.749 13.2424C105.16 13.0799 105.654 13.2046 105.914 13.5615L106.304 14.0952C105.342 14.7819 104.171 15.0566 102.895 15.0566C100.598 15.0566 98.2033 13.2842 98.1929 10.1124ZM147.619 5.21768C148.074 5.21768 148.444 5.58663 148.444 6.04174V9.81968L151.82 5.58131C151.897 5.47733 151.997 5.39282 152.112 5.3346C152.227 5.27638 152.355 5.24607 152.484 5.24611H153.984L150.166 10.0615L153.984 14.8749H152.484C152.355 14.8749 152.227 14.8446 152.112 14.7864C151.997 14.7281 151.897 14.6436 151.82 14.5397L148.444 10.3025V14.0508C148.444 14.5059 148.074 14.8749 147.619 14.8749H146.746V5.21768H147.619Z' fill='white'/%3E%3Cpath d='M0.773438 6.5752H2.68066C3.56543 6.5752 4.2041 6.7041 4.59668 6.96191C4.99219 7.21973 5.18994 7.62695 5.18994 8.18359C5.18994 8.55859 5.09326 8.87061 4.8999 9.11963C4.70654 9.36865 4.42822 9.52539 4.06494 9.58984V9.63379C4.51611 9.71875 4.84717 9.88721 5.05811 10.1392C5.27197 10.3882 5.37891 10.7266 5.37891 11.1543C5.37891 11.7314 5.17676 12.1841 4.77246 12.5122C4.37109 12.8374 3.81152 13 3.09375 13H0.773438V6.5752ZM1.82373 9.22949H2.83447C3.27393 9.22949 3.59473 9.16064 3.79688 9.02295C3.99902 8.88232 4.1001 8.64502 4.1001 8.31104C4.1001 8.00928 3.99023 7.79102 3.77051 7.65625C3.55371 7.52148 3.20801 7.4541 2.7334 7.4541H1.82373V9.22949ZM1.82373 10.082V12.1167H2.93994C3.37939 12.1167 3.71045 12.0332 3.93311 11.8662C4.15869 11.6963 4.27148 11.4297 4.27148 11.0664C4.27148 10.7324 4.15723 10.4849 3.92871 10.3237C3.7002 10.1626 3.35303 10.082 2.88721 10.082H1.82373Z' fill='white'/%3E%3Cpath d='M13.011 6.5752V10.7324C13.011 11.207 12.9084 11.623 12.7034 11.9805C12.5012 12.335 12.2068 12.6089 11.8201 12.8022C11.4363 12.9927 10.9763 13.0879 10.4402 13.0879C9.6433 13.0879 9.02368 12.877 8.5813 12.4551C8.13892 12.0332 7.91772 11.4531 7.91772 10.7148V6.5752H8.9724V10.6401C8.9724 11.1704 9.09546 11.5615 9.34155 11.8135C9.58765 12.0654 9.96557 12.1914 10.4753 12.1914C11.4656 12.1914 11.9607 11.6714 11.9607 10.6313V6.5752H13.011Z' fill='white'/%3E%3Cpath d='M15.9146 13V6.5752H16.9649V13H15.9146Z' fill='white'/%3E%3Cpath d='M19.9255 13V6.5752H20.9758V12.0991H23.696V13H19.9255Z' fill='white'/%3E%3Cpath d='M28.2828 13H27.2325V7.47607H25.3428V6.5752H30.1724V7.47607H28.2828V13Z' fill='white'/%3E%3Cpath d='M41.9472 13H40.8046L39.7148 9.16796C39.6679 9.00097 39.6093 8.76074 39.539 8.44727C39.4687 8.13086 39.4262 7.91113 39.4116 7.78809C39.3823 7.97559 39.3339 8.21875 39.2665 8.51758C39.2021 8.81641 39.1479 9.03905 39.1039 9.18554L38.0405 13H36.8979L36.0673 9.7832L35.2236 6.5752H36.2958L37.2143 10.3193C37.3578 10.9199 37.4604 11.4502 37.5219 11.9102C37.5541 11.6611 37.6025 11.3828 37.6669 11.0752C37.7314 10.7676 37.79 10.5186 37.8427 10.3281L38.8886 6.5752H39.9301L41.0024 10.3457C41.1049 10.6943 41.2133 11.2158 41.3276 11.9102C41.3715 11.4912 41.477 10.958 41.644 10.3105L42.558 6.5752H43.6215L41.9472 13Z' fill='white'/%3E%3Cpath d='M45.7957 13V6.5752H46.846V13H45.7957Z' fill='white'/%3E%3Cpath d='M52.0258 13H50.9755V7.47607H49.0859V6.5752H53.9155V7.47607H52.0258V13Z' fill='white'/%3E%3Cpath d='M61.2312 13H60.1765V10.104H57.2146V13H56.1643V6.5752H57.2146V9.20312H60.1765V6.5752H61.2312V13Z' fill='white'/%3E%3C/svg%3E")}@-webkit-keyframes formkit-bouncedelay-formkit-form-data-uid-12c9657bcb-{0%,80%,100%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}@keyframes formkit-bouncedelay-formkit-form-data-uid-12c9657bcb-{0%,80%,100%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}.formkit-form[data-uid="12c9657bcb"] blockquote{padding:10px 20px;margin:0 0 20px;border-left:5px solid #e1e1e1}.formkit-form[data-uid="12c9657bcb"]{border:1px solid #e3e3e3;max-width:700px;position:relative;overflow:hidden}.formkit-form[data-uid="12c9657bcb"] .formkit-background{width:100%;height:100%;position:absolute;top:0;left:0;background-size:cover;background-position:50%;opacity:.3}.formkit-form[data-uid="12c9657bcb"] [data-style=minimal]{padding:20px;width:100%;position:relative}.formkit-form[data-uid="12c9657bcb"] .formkit-header{margin:0 0 27px;text-align:center}.formkit-form[data-uid="12c9657bcb"] .formkit-subheader{margin:18px 0;text-align:center}.formkit-form[data-uid="12c9657bcb"] .formkit-guarantee{font-size:13px;margin:10px 0 15px;text-align:center}.formkit-form[data-uid="12c9657bcb"] .formkit-guarantee>p{margin:0}.formkit-form[data-uid="12c9657bcb"] .formkit-powered-by-convertkit-container{margin-bottom:0}.formkit-form[data-uid="12c9657bcb"] .formkit-fields{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:25px auto 0}.formkit-form[data-uid="12c9657bcb"] .formkit-field{min-width:220px}.formkit-form[data-uid="12c9657bcb"] .formkit-field,.formkit-form[data-uid="12c9657bcb"] .formkit-submit{margin:0 0 15px;-webkit-flex:1 0 100%;-ms-flex:1 0 100%;flex:1 0 100%}.formkit-form[data-uid="12c9657bcb"][min-width~="600"] [data-style=minimal]{padding:40px}.formkit-form[data-uid="12c9657bcb"][min-width~="600"] .formkit-fields[data-stacked=false]{margin-left:-5px;margin-right:-5px}.formkit-form[data-uid="12c9657bcb"][min-width~="600"] .formkit-fields[data-stacked=false] .formkit-field,.formkit-form[data-uid="12c9657bcb"][min-width~="600"] .formkit-fields[data-stacked=false] .formkit-submit{margin:0 5px 15px}.formkit-form[data-uid="12c9657bcb"][min-width~="600"] .formkit-fields[data-stacked=false] .formkit-field{-webkit-flex:100 1 auto;-ms-flex:100 1 auto;flex:100 1 auto}.formkit-form[data-uid="12c9657bcb"][min-width~="600"] .formkit-fields[data-stacked=false] .formkit-submit{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:auto}</style></form></div></div><footer class=post-footer><nav class=paginav><a class=prev href=https://sanqitang.github.io/posts/vim-vs-neovim/><span class=title>¬´ Prev</span><br><span>Vim or Neovim? Here's Why You Should Use the Latter</span></a>
<a class=next href=https://sanqitang.github.io/posts/details-of-google-serverless-computing/><span class=title>Next ¬ª</span><br><span>Google Serverless Infrastructure: A Primer on GCP & Serverless Computing</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Using GitHub Actions to Deploy a FastAPI Project to Heroku on twitter" href="https://twitter.com/intent/tweet/?text=Using%20GitHub%20Actions%20to%20Deploy%20a%20FastAPI%20Project%20to%20Heroku&url=https%3a%2f%2fsanqitang.github.io%2fposts%2fusing-github-actions-to-deploy-a-fastapi-project-to-heroku%2f&hashtags="><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Using GitHub Actions to Deploy a FastAPI Project to Heroku on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fsanqitang.github.io%2fposts%2fusing-github-actions-to-deploy-a-fastapi-project-to-heroku%2f&title=Using%20GitHub%20Actions%20to%20Deploy%20a%20FastAPI%20Project%20to%20Heroku&summary=Using%20GitHub%20Actions%20to%20Deploy%20a%20FastAPI%20Project%20to%20Heroku&source=https%3a%2f%2fsanqitang.github.io%2fposts%2fusing-github-actions-to-deploy-a-fastapi-project-to-heroku%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Using GitHub Actions to Deploy a FastAPI Project to Heroku on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fsanqitang.github.io%2fposts%2fusing-github-actions-to-deploy-a-fastapi-project-to-heroku%2f&title=Using%20GitHub%20Actions%20to%20Deploy%20a%20FastAPI%20Project%20to%20Heroku"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Using GitHub Actions to Deploy a FastAPI Project to Heroku on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fsanqitang.github.io%2fposts%2fusing-github-actions-to-deploy-a-fastapi-project-to-heroku%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Using GitHub Actions to Deploy a FastAPI Project to Heroku on whatsapp" href="https://api.whatsapp.com/send?text=Using%20GitHub%20Actions%20to%20Deploy%20a%20FastAPI%20Project%20to%20Heroku%20-%20https%3a%2f%2fsanqitang.github.io%2fposts%2fusing-github-actions-to-deploy-a-fastapi-project-to-heroku%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Using GitHub Actions to Deploy a FastAPI Project to Heroku on telegram" href="https://telegram.me/share/url?text=Using%20GitHub%20Actions%20to%20Deploy%20a%20FastAPI%20Project%20to%20Heroku&url=https%3a%2f%2fsanqitang.github.io%2fposts%2fusing-github-actions-to-deploy-a-fastapi-project-to-heroku%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2019-2022 <a href=https://sanqitang.github.io/>Somraj Saha</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&</span>
<span><a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span><br><span>This Site is <a href=https://github.com/Jarmos-san/blog rel="noopener noreferrer" target=_blank>Open-Sourced</a> with &#10084;&#65039;</span>
<span>&#183;</span>
<span><a href=../terms-of-service-agreement/index.html>Terms of Service</a></span>
<span>&#183;</span>
<span><a href=../privacy-policy/index.html>Privacy Policy</a></span>
<span>&#183;</span>
<span>Articles Are Licensed Under <a href=https://github.com/Jarmos-san/blog/blob/main/LICENSE rel="nooopener noreferrer" target=_blank>CC BY-NC 4.0</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById("menu").scrollLeft=localStorage.getItem("menu-scroll-position"))},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})});var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById("menu").scrollLeft)}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body><script>!function(e,t,n,s,o,i){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments)},s.version="1.1",s.queue=[],o=t.createElement(n),o.async=!0,o.src="//static.ads-twitter.com/uwt.js",i=t.getElementsByTagName(n)[0],i.parentNode.insertBefore(o,i))}(window,document,"script"),twq("init","o5htq"),twq("track","PageView")</script></html>